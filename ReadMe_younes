
 g++ mini_slam.cpp   -std=c++17   -O2   -I./libs/Optimization/include   -I./include   -I/usr/include/eigen3   -L./build/lib   -lCORA     -o mini_slam



i tape 

g++ test_riemannian.cpp \
  -std=c++17 \
  -O2 \
  -I./libs/Optimization/include \
  -I./include \
  -I/usr/include/eigen3 \
  -I/usr/include/suitesparse \
  -L./build/lib \
  -lCORA \
  -Wl,-rpath,'$ORIGIN/build/lib' \
  -o cora_drone
then ./cora_drone single_drone.pyfg

correct and undestand this 


struct RelativePoseMeasurement : PairMeasurement {
  /** Rotational measurement */
  Matrix R;

  /** Translational measurement */
  Vector t;

  /** Covariance Matrix in order of: translation, rotation */
  Matrix cov;

  RelativePoseMeasurement(const Symbol &first_id, const Symbol &second_id,
                          Matrix R_measurement, Vector t_measurement,
                          Matrix cov)
      : PairMeasurement(first_id, second_id),
        R(std::move(R_measurement)),
        t(std::move(t_measurement)),
        cov(std::move(cov)) {}

  std::string toString() const {
    std::string str = first_id.string() + " -> " + second_id.string();
    return str;
  }

  /**
   * @brief Computes the rotational (scalar) precision of the measurement
   * from the covariance matrix. This is a bit more sophisticated b/c of
   * the geometry of the rotation manifold.
   *
   * @return Scalar - the rotational precision
   */
  Scalar getRotPrecision() const {
    if (cov.rows() == 6) {
      // for 3D rotations the (information-divergence minimizing) precision is:
      // 3.0 / (2*trace(cov(3:6, 3:6))))
      return 1.5 / (cov(3, 3) + cov(4, 4) + cov(5, 5));
    } else if (cov.rows() == 3) {
      // for 2D rotations, the rotational variance is a scalar, so the
      // precision is just the inverse of the variance
      return 1.0 / cov(2, 2);
    } else {
      throw std::runtime_error(
          "RelativePoseMeasurement::getRotPrecision() only implemented for "
          "2D and 3D rotations");
    }
  }


to compile the examples use 

cmake .. \
  -DCMAKE_BUILD_TYPE=Debug \
  -DCMAKE_CXX_FLAGS="-O0 -g -fsanitize=address -fno-omit-frame-pointer"


